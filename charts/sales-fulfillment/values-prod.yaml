# Production environment values (Azure AKS - High Availability)
global:
  namespace: sales-fulfillment-prod

backend:
  # IMPORTANT: replicaCount MUST be 1 when using SQLite with ReadWriteOnce PVC
  # Multiple replicas cannot attach to the same volume
  # For HA, migrate to a shared database (PostgreSQL/MySQL)
  replicaCount: 1
  image:
    repository: acra10corpsales.azurecr.io/sales-backend
    pullPolicy: Always
    tag: "latest"
  resources:
    requests:
      cpu: 500m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi
  # Autoscaling disabled for SQLite (requires shared DB for HA)
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 1
    targetCPUUtilizationPercentage: 80

frontend:
  replicaCount: 3
  image:
    repository: acra10corpsales.azurecr.io/sales-frontend
    pullPolicy: Always
    tag: "latest"
  service:
    type: LoadBalancer
  env:
    liveReload: "false"
  resources:
    requests:
      cpu: 200m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 10
    targetCPUUtilizationPercentage: 80
